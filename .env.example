# WordPress MCP Server v2.1.0 - Environment Variables Example
# Copy this file to .env and fill in your actual values

# ============================================
# API Security (REQUIRED for HTTP API)
# ============================================
# Shared API key for all clients (used with GET /api/find)
# Generate with: openssl rand -hex 32
API_KEY=your-secret-api-key-here

# ============================================
# Server Configuration
# ============================================
PORT=8080

# ============================================
# Default Client Configuration
# ============================================
# Used when no client parameter is specified, or ACTIVE_CLIENT=default
WP_API_URL=https://your-wordpress-site.com
WP_API_USERNAME=admin
WP_API_PASSWORD=your-app-password-here

# Optional: Set which client to use as default for MCP protocol
# ACTIVE_CLIENT=default

# ============================================
# Multi-Client Configuration (Optional)
# ============================================
# To support multiple WordPress sites, define additional clients:

# Client 1
# CLIENT1_WP_API_URL=https://client1.com
# CLIENT1_WP_API_USERNAME=admin
# CLIENT1_WP_API_PASSWORD=xxxx xxxx xxxx xxxx

# Client 2
# CLIENT2_WP_API_URL=https://client2.com
# CLIENT2_WP_API_USERNAME=admin
# CLIENT2_WP_API_PASSWORD=yyyy yyyy yyyy yyyy

# Client 3
# CLIENT3_WP_API_URL=https://client3.com
# CLIENT3_WP_API_USERNAME=admin
# CLIENT3_WP_API_PASSWORD=zzzz zzzz zzzz zzzz

# ============================================
# Usage Examples
# ============================================

# Example 1: Default client (no client parameter)
# GET /api/find?slug=about-us
# Uses: WP_API_URL, WP_API_USERNAME, WP_API_PASSWORD

# Example 2: Specific client
# GET /api/find?slug=about-us&client=client1
# Uses: CLIENT1_WP_API_URL, CLIENT1_WP_API_USERNAME, CLIENT1_WP_API_PASSWORD

# Example 3: With API Key in header
# curl -H "X-API-Key: your-secret-api-key-here" \
#      "http://localhost:8080/api/find?slug=about-us&client=client1"

# ============================================
# How to get WordPress Application Passwords
# ============================================
# 1. Login to your WordPress admin panel
# 2. Go to: Users → Profile → Application Passwords
# 3. Enter a name (e.g., "MCP Server") and click "Add New Application Password"
# 4. Copy the generated password (format: xxxx xxxx xxxx xxxx xxxx xxxx)
# 5. Paste it in WP_API_PASSWORD above (spaces are OK, will be handled automatically)

# ============================================
# Security Best Practices
# ============================================
# 1. ALWAYS set API_KEY in production environments
# 2. Use strong, unique Application Passwords for each client
# 3. Use HTTPS with reverse proxy (nginx/caddy) in production
# 4. Restrict access by IP if possible
# 5. Rotate Application Passwords regularly
# 6. Never commit .env file to git (it's already in .gitignore)
# 7. Set appropriate file permissions: chmod 600 .env

# ============================================
# Notes
# ============================================
# - The /api/find endpoint searches both posts and pages automatically
# - Returns the first match found (posts searched first, then pages)
# - Supports search by: slug, url (full URL), or search (text search)
# - MCP protocol endpoint (POST /mcp) still works as before
